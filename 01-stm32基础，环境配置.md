# 01-stm32基础，环境配置

## 软件——从安装到卸载

### STM32CubeMX

官网上的需要注册，觉得麻烦可以使用群里的安装包

安装完后可以更新到最新版本

### git

### VS Code

#### 本体

<https://code.visualstudio.com/>

记得添加右键菜单，可以提高生活质量

#### 插件

- C/C++
- Chinese
- Cortex-Debug
- Embedded IDE 
- Markdown All in One
- Markdown Preview Github Styling
- Git History

#### 设置

```json
"editor.insertSpaces": false,
"files.autoGuessEncoding": true,
"editor.mouseWheelZoom": true,
"security.workspace.trust.enabled": false,
"cortex-debug.showRTOS": true,
"EIDE.SourceTree.AutoSearchIncludePath": true,
"EIDE.ARM.Option.AxfToElf": true,
```

> GDB 对 elf 文件支持较好

### Keil

付费软件，可以使用群里的安装包

### 卸载

装上了还想卸载？

## 新建 stm32 工程

使用 CubeMX

配置：

- RCC
- SYS-Debug: SW
- 时钟树
- 其他外设

工程：

- MDK 或 CubeIDE (Generate Under Root)
- Copy only the necessary...
- Generate ... per peripheral

### GCC 构建器选项

打印浮点数
```
-u _printf_float
```

## 一些有用的文档

EIDE <https://em-ide.com/zh-cn/docs/intro/>

时钟树 <https://zhuanlan.zhihu.com/p/339529771>

F40x 外设时钟树 <https://blog.csdn.net/chenhuanqiangnihao/article/details/113331335>